{% load static %}
<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <!-- Slick Carousel CSS  color: #36696b; --> 
   <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.0/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" type="text/css" media="screen" href="{%static 'website/css/plugins.css'%}" />
    <link rel="stylesheet" type="text/css" media="screen" href="{%static 'website/css/main.css' %}" />
    <!-- Sau đó thêm Bootstrap JS và các script khác -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.0/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'website/js/ajax-mail.js' %}"></script>
    <script src="{% static 'website/js/custom.js' %}"></script>
    <script src="{% static 'website/js/plugins.js' %}"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <!-- animate css link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
    crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
    crossorigin="anonymous"></script>
    


</head>
<style>
    .recent-search-item:hover {
  background-color: #36696b; /* Màu xám khi lướt qua */
  cursor: pointer;
  color: white;
  border: 2px solid #36696b;
  border-radius: 5px;
  }
  #recent-searches {
    display: none;
    position: absolute;
    width: 443px;
    top: 100%; 
    left: 0; 
    z-index: 1000;
  }
  body {
    top: 0px !important;
   }

   body > .skiptranslate > iframe.skiptranslate {
    display: none !important;
    visibility: hidden !important;
   }
   .goog-logo-link {
   display: none !important;
   }
   #google_translate_element {
    /* Thay đổi kích thước tùy ý */
    font-size: 1px;
    }
    #google_translate_element {
        /* Màu nền */
        background-color: #36696B; /* Thay đổi màu nền tùy ý */
    
        /* Màu văn bản */
        color: #36696B; /* Thay đổi màu văn bản tùy ý */
        position: absolute;
        /* Đặt vị trí từ phía trên cùng của header */
        top: 50%; /* hoặc giá trị cụ thể khác nếu cần */
        /* Đặt vị trí từ phía trái của header */
        left: 0%; /* hoặc giá trị cụ thể khác nếu cần */
        /* Dịch chuyển phần tử điều chỉnh để nó chính xác ở giữa */
        transform: translate(-50%, -50%);
        /* Đảm bảo nó hiển thị trên tất cả các phần tử khác */
        z-index: 9999; /* hoặc số lớn hơn nếu cần */
    }
</style>
<body>
    <div class="site-wrapper" id="top">
        <div class="site-header header-2 mb--20 d-none d-lg-block">
            <div class="header-middle pt--10 pb--10">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-3"  >
                            <a href="{% url 'home' %}" class="site-brand">
                                <img src="{% static 'website/image/logo1.png' %}" alt="" style ="width: 100px">
                            </a>
                        </div>
                        
                        <div class="col-lg-5">
                            <div class="header-search-block" style="margin-left: -150px">
                                <form class="search" action="{% url 'search_results' %}" method="get">
                                    <button type="button" onclick="startDictation()" class="voice-button" aria-label="Voice search" style="width: 60px; padding: 0px; border-radius: 10px;"><i class="fas fa-microphone"></i></button>
                                    <input name="q" type="text" class="search-input" autocomplete="off" placeholder="Search entire store here" style="margin-left: 10px; margin-right: -40px; border-radius: 10px;">
                                    <button type="submit" class="search-button" style="width: 50px; padding: 0px; position: absolute; margin-right: -40px; border-radius: 10px;"><i class="fas fa-search"></i></button>
                                    <div id="recent-searches" style="display:none; background:white; border: 2px solid #36696b; border-radius: 10px; width: 567.5px; margin-left: 67px"></div>
                                </form>
                            </div>
                        </div>
                            
                        
                        <div class="col-lg-4">
                            <div class="main-navigation flex-lg-right">
                                <div class="cart-widget">
                                    <div class="login-block">
                                        <ul class="navbar-nav ms-auto">
                                            <li class="nav-item dropdown">
                                              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                                {{ user.username|default:"Account" }}
                                              </a>
                                              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                                {% if user.is_authenticated %}
                                                <li>
                                                  <form action="{% url 'logout' %}" method="post">
                                                    {% csrf_token %}
                                                    <button type="submit" class="dropdown-item">Log Out</button>
                                                  </form>
                                                </li>
                                                {% else %}
                                                <li><a class="dropdown-item" href="{% url 'login' %}">Log In</a></li>
                                                <li><a class="dropdown-item" href="{% url 'signup' %}">Sign Up</a></li>
                                                {% endif %}
                                              </ul>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="cart-block">
                                        <div class="cart-total">
                                            <span class="text-number">
                                                {% with total_qty=basket|length %}
                                                <span id="basket-qty">{{ total_qty|default:"0" }}</span>
                                                <i class="fas fa-shopping-cart"></i> Basket
                                                {% endwith %}
                                            </span>
                                            <span class="text-item">
                                                Shopping Basket
                                            </span>
                                            <span class="price">
                                                <i class="fas fa-chevron-down"></i>
                                            </span>
                                        </div>
                                        <div class="cart-dropdown-block">
                                            <div class="single-cart-block">
                                                {% for item in basket %}
                                                {% if item.qty != 0 %}
                                                {% with product=item.product %}  
                                                    <div class="cart-product">
                                                        <a href="" class="image" style="width: 75px; margin-left: 20px">
                                                            <img src="{{ product.image_url }}">
                                                        </a>
                                                        <div class="content">
                                                            <h3 class="title">
                                                                <a href="{% url 'detail' product.pk %}">{{ product.title }}</a>
                                                            </h3>
                                                            <p class="price"><span class="qty">{{item.qty}} ×</span> £{{ product.price }}</p>
                                                        </div>
                                                    </div>
                                                    {% endwith %}
                                                    {% endif %}
                                                {% endfor %}
                                            </div>
                                            <div class=" single-cart-block ">
                                                <div class="btn-block">
                                                    <a href="{% url 'basket:basket_summary' %}" class="btn">View Basket <i
                                                            class="fas fa-chevron-right"></i></a>
                                                    <a href="{% url 'basket:basket_checkout2' %}" class="btn btn--primary">Check Out <i
                                                            class="fas fa-chevron-right"></i></a>
                                                     
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- @include('menu.htm') -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-bottom bg-primary">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-3">
                            <nav class="category-nav white-nav  ">
                                <div>
                                    <a href="javascript:void(0)" class="category-trigger"><i
                                            class="fa fa-bars"></i>Browse
                                        categories</a>
                                    <ul class="category-menu">
                                        <li class="cat-item has-children mega-menu"><a href="">Adventure</a>
                                            <ul class="sub-menu">
                                                <li class="single-block">
                                                    <ul style="display: inline-block">
                                                        <a href="{% url 'adventure-books' %}" style="margin-left: 360px; color: #36696b;">See more Adventure Books...</a>
                                                        <table>
                                                            <tr>
                                                                {% for book in adventure_bookss %}
                                                                    <td>
                                                                        {% load rating_stars %}
                                                                        
                                                                        <div class="book-item">
                                                                            <a href="{% url 'detail' book.id %}">
                                                                                <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 80px; height: 120px">
                                                                            </a> 
                                                                            <span class="star-rating">{% render_stars book.rating %}</span>
                                                                            <div class="price-block">
                                                                                <span class="price">£{{ book.price }}</span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                        </tr><tr>
                                                                    {% endif %}
                                                                {% endfor %}
                                                            </tr>
                                                        </table>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="cat-item has-children mega-menu"><a href="#">Biography</a>
                                            <ul class="sub-menu">
                                                <li class="single-block">
                                                    <ul style="display: inline-block">
                                                        <a href="{% url 'biography-books' %}" style="margin-left: 360px; color: #36696b;">See more Biography Books...</a>
                                                        <table>
                                                            <tr>
                                                                {% for book in biography_books %}
                                                                    <td>
                                                                        {% load rating_stars %}

                                                                        <div class="book-item">
                                                                            <a href="{% url 'detail' book.id %}">
                                                                                <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 80px; height: 120px">
                                                                            </a> 
                                                                            <span class="star-rating">{% render_stars book.rating %}</span>
                                                                            <div class="price-block">
                                                                                <span class="price">£{{ book.price }}</span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                        </tr><tr>
                                                                    {% endif %}
                                                                {% endfor %}
                                                            </tr>
                                                        </table>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="cat-item has-children mega-menu"><a href="#">Drama</a>
                                            <ul class="sub-menu">
                                                <li class="single-block">
                                                    <ul style="display: inline-block">
                                                        <a href="{% url 'drama-books' %}" style="margin-left: 360px; color: #36696b;">See more Drama Books...</a>
                                                        <table>
                                                            <tr>
                                                                {% for book in drama_bookss %}
                                                                    <td>
                                                                        {% load rating_stars %}

                                                                        <div class="book-item">
                                                                            <a href="{% url 'detail' book.id %}">
                                                                                <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 80px; height: 120px">
                                                                            </a> 
                                                                            <span class="star-rating">{% render_stars book.rating %}</span>
                                                                            <div class="price-block">
                                                                                <span class="price">£{{ book.price }}</span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                        </tr><tr>
                                                                    {% endif %}
                                                                {% endfor %}
                                                            </tr>
                                                        </table>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="cat-item has-children mega-menu"><a href="#">Fantasy</a>
                                            <ul class="sub-menu">
                                                <li class="single-block">
                                                    <ul style="display: inline-block">
                                                        <a href="{% url 'fantasy-books' %}" style="margin-left: 360px; color: #36696b;">See more Fantasy Books...</a>
                                                        <table>
                                                            <tr>
                                                                {% for book in fantasy_bookss %}
                                                                    <td>
                                                                        {% load rating_stars %}

                                                                        <div class="book-item">
                                                                            <a href="{% url 'detail' book.id %}">
                                                                                <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 80px; height: 120px">
                                                                            </a> 
                                                                            <span class="star-rating">{% render_stars book.rating %}</span>
                                                                            <div class="price-block">
                                                                                <span class="price">£{{ book.price }}</span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                        </tr><tr>
                                                                    {% endif %}
                                                                {% endfor %}
                                                            </tr>
                                                        </table>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="cat-item has-children mega-menu"><a href="#">Fiction</a>
                                            <ul class="sub-menu">
                                                <li class="single-block">
                                                    <ul style="display: inline-block">
                                                        <a href="{% url 'fiction-books' %}" style="margin-left: 360px; color: #36696b;">See more Fiction Books...</a>
                                                        <table>
                                                            <tr>
                                                                {% for book in fiction_bookss %}
                                                                    <td>
                                                                        {% load rating_stars %}

                                                                        <div class="book-item">
                                                                            <a href="{% url 'detail' book.id %}">
                                                                                <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 80px; height: 120px">
                                                                            </a> 
                                                                            <span class="star-rating">{% render_stars book.rating %}</span>
                                                                            <div class="price-block">
                                                                                <span class="price">£{{ book.price }}</span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                        </tr><tr>
                                                                    {% endif %}
                                                                {% endfor %}
                                                            </tr>
                                                        </table>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="cat-item has-children mega-menu"><a href="#">History</a>
                                            <ul class="sub-menu">
                                                <li class="single-block">
                                                    <ul style="display: inline-block">
                                                        <a href="{% url 'history-books' %}" style="margin-left: 360px; color: #36696b;">See more History Books...</a>
                                                        <table>
                                                            <tr>
                                                                {% for book in history_bookss %}
                                                                    <td>
                                                                        {% load rating_stars %}

                                                                        <div class="book-item">
                                                                            <a href="{% url 'detail' book.id %}">
                                                                                <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 80px; height: 120px">
                                                                            </a> 
                                                                            <span class="star-rating">{% render_stars book.rating %}</span>
                                                                            <div class="price-block">
                                                                                <span class="price">£{{ book.price }}</span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                        </tr><tr>
                                                                    {% endif %}
                                                                {% endfor %}
                                                            </tr>
                                                        </table>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        <!-- <li class="cat-item"><a href="#">Perfomance Filters</a></li> -->
                                        <li class="cat-item has-children mega-menu"><a href="#">Horror</a>
                                            <ul class="sub-menu">
                                                <li class="single-block">
                                                    <ul style="display: inline-block">
                                                        <a href="{% url 'horror-books' %}" style="margin-left: 360px; color: #36696b;">See more Horror Books...</a>
                                                        <table>
                                                            <tr>
                                                                {% for book in horror_bookss %}
                                                                    <td>
                                                                        {% load rating_stars %}

                                                                        <div class="book-item">
                                                                            <a href="{% url 'detail' book.id %}">
                                                                                <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 80px; height: 120px">
                                                                            </a> 
                                                                            <span class="star-rating">{% render_stars book.rating %}</span>
                                                                            <div class="price-block">
                                                                                <span class="price">£{{ book.price }}</span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                        </tr><tr>
                                                                    {% endif %}
                                                                {% endfor %}
                                                            </tr>
                                                        </table>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="cat-item has-children mega-menu"><a href="#">Magic</a>
                                            <ul class="sub-menu">
                                                <li class="single-block">
                                                    <ul style="display: inline-block">
                                                        <a href="{% url 'magic-books' %}" style="margin-left: 360px; color: #36696b;">See more Magic Books...</a>
                                                        <table>
                                                            <tr>
                                                                {% for book in magic_bookss %}
                                                                    <td>
                                                                        {% load rating_stars %}

                                                                        <div class="book-item">
                                                                            <a href="{% url 'detail' book.id %}">
                                                                                <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 80px; height: 120px">
                                                                            </a> 
                                                                            <span class="star-rating">{% render_stars book.rating %}</span>
                                                                            <div class="price-block">
                                                                                <span class="price">£{{ book.price }}</span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                        </tr><tr>
                                                                    {% endif %}
                                                                {% endfor %}
                                                            </tr>
                                                        </table>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="cat-item has-children mega-menu"><a href="#">Non-fiction</a>
                                            <ul class="sub-menu">
                                                <li class="single-block">
                                                    <ul style="display: inline-block">
                                                        <a href="{% url 'non-fiction-books' %}" style="margin-left: 360px; color: #36696b;">See more Non-fiction Books...</a>
                                                        <table>
                                                            <tr>
                                                                {% for book in non_fiction_bookss %}
                                                                    <td>
                                                                        {% load rating_stars %}

                                                                        <div class="book-item">
                                                                            <a href="{% url 'detail' book.id %}">
                                                                                <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 80px; height: 120px">
                                                                            </a> 
                                                                            <span class="star-rating">{% render_stars book.rating %}</span>
                                                                            <div class="price-block">
                                                                                <span class="price">£{{ book.price }}</span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                        </tr><tr>
                                                                    {% endif %}
                                                                {% endfor %}
                                                            </tr>
                                                        </table>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="cat-item has-children mega-menu"><a href="#">Romance</a>
                                            <ul class="sub-menu">
                                                <li class="single-block">
                                                    <ul style="display: inline-block">
                                                        <a href="{% url 'romance-books' %}" style="margin-left: 360px; color: #36696b;">See more Romance Books...</a>
                                                        <table>
                                                            <tr>
                                                                {% for book in romance_bookss %}
                                                                    <td>
                                                                        {% load rating_stars %}

                                                                        <div class="book-item">
                                                                            <a href="{% url 'detail' book.id %}">
                                                                                <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 80px; height: 120px">
                                                                            </a> 
                                                                            <span class="star-rating">{% render_stars book.rating %}</span>
                                                                            <div class="price-block">
                                                                                <span class="price">£{{ book.price }}</span>
                                                                            </div>
                                                                        </div>
                                                                        
                                                                    </td>
                                                                    {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                        </tr><tr>
                                                                    {% endif %}
                                                                {% endfor %}
                                                            </tr>
                                                        </table>
                                                    </ul>
                                                </li>
                                            </ul> 
                                        </li>
                                        <!--
                                        <li class="cat-item "><a href="#">Accessories</a></li>
                                        <li class="cat-item "><a href="#">Education</a></li> -->
                                        <li class="cat-item hidden-menu-item"><a href="#">Novels</a></li>
                                        <li class="cat-item"><a href="#" class="js-expand-hidden-menu">More
                                                Categories</a></li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                        <div class="col-lg-3">
                            <div class="header-phone color-white">
                                <div class="icon">
                                    <i class="fas fa-headphones-alt"></i>
                                </div>
                                <div class="text">
                                    <p>Free Support 24/7</p>
                                    <p class="font-weight-bold number">0327728199</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="main-navigation flex-lg-right">
                                <div id="google_translate_element">
                                </div>
                                <ul class="main-menu menu-right main-menu--white li-last-0">
                                    <li class="menu-item has-children">
                                        <a  href="{% url 'home' %}"> Home </a>  
                                    </li>
                                    <!-- Shop -->
                                    <li class="menu-item has-children mega-menu">
                                        <a href="{% url 'shop-list' %}">SHOP</a>
                                    </li>
                                    <!-- Pages -->
                                    <li class="menu-item has-children">
                                        <a href="javascript:void(0)">Pages <i
                                                class="fas fa-chevron-down dropdown-arrow"></i></a>
                                        <ul class="sub-menu">
                                            <li><a href="{% url 'basket:basket_summary' %}">Basket</a></li>
                                            <li><a href="{% url 'basket:basket_checkout2' %}">Checkout</a></li>
                                            <li><a href="{% url 'wishlist' %}">Wishlist</a></li>
                                            <li><a href="{% url 'change_password' %}">My Account</a></li>
                                            <li><a href="{% url 'faq' %}">Faq</a></li>
                                        </ul>
                                    </li>
                                    <!-- Blog -->
                                    <li class="menu-item has-children">
                                        <a href="{% url 'blog' %}">Blog</a>
                                        
                                    </li>
                                    <li class="menu-item">
                                        <a href="{% url 'contact:index' %}">Contact</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="site-mobile-menu">
            <header class="mobile-header d-block d-lg-none pt--10 pb-md--10">
                <div class="container">
                    <div class="row align-items-sm-end align-items-center">
                        <div class="col-md-4 col-7">
                            <a href="{% url 'home' %}" class="site-brand">
                                <img src="{% static 'website/image/logo1.png' %}" alt="" style ="width: 100px">
                            </a>
                        </div>
                        <div class="col-md-5 order-3 order-md-2">
                            <nav class="category-nav   ">
                                <div>
                                    <a href="javascript:void(0)" class="category-trigger"><i
                                            class="fa fa-bars"></i>Browse
                                        categories</a>
                                        <ul class="category-menu">
                                            <li class="cat-item has-children mega-menu"><a href="#">Adventure</a>
                                                <ul class="sub-menu">
                                                    <li class="single-block">
                                                        <ul style="display: inline-block">
                                                            <table>
                                                                <tr>
                                                                    {% for book in adventure_bookss %}
                                                                        <td>
                                                                            {% load rating_stars %}
    
                                                                            <div class="book-item">
                                                                                <a href="{% url 'detail' book.id %}">
                                                                                    <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 100px; height: 150px">
                                                                                </a> 
                                                                                <span class="star-rating">{% render_stars book.rating %}</span>
                                                                                <div class="price-block">
                                                                                    <span class="price">£{{ book.price }}</span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                            </tr><tr>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </tr>
                                                            </table>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li class="cat-item has-children mega-menu"><a href="#">Biography</a>
                                                <ul class="sub-menu">
                                                    <li class="single-block">
                                                        <ul style="display: inline-block">
                                                            <table>
                                                                <tr>
                                                                    {% for book in biography_books %}
                                                                        <td>
                                                                            {% load rating_stars %}
    
                                                                            <div class="book-item">
                                                                                <a href="{% url 'detail' book.id %}">
                                                                                    <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 100px; height: 150px">
                                                                                </a> 
                                                                                <span class="star-rating">{% render_stars book.rating %}</span>
                                                                                <div class="price-block">
                                                                                    <span class="price">£{{ book.price }}</span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                            </tr><tr>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </tr>
                                                            </table>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li class="cat-item has-children mega-menu"><a href="#">Drama</a>
                                                <ul class="sub-menu">
                                                    <li class="single-block">
                                                        <ul style="display: inline-block">
                                                            <table>
                                                                <tr>
                                                                    {% for book in drama_bookss %}
                                                                        <td>
                                                                            {% load rating_stars %}
    
                                                                            <div class="book-item">
                                                                                <a href="{% url 'detail' book.id %}">
                                                                                    <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 100px; height: 150px">
                                                                                </a> 
                                                                                <span class="star-rating">{% render_stars book.rating %}</span>
                                                                                <div class="price-block">
                                                                                    <span class="price">£{{ book.price }}</span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                            </tr><tr>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </tr>
                                                            </table>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li class="cat-item has-children mega-menu"><a href="#">Fantasy</a>
                                                <ul class="sub-menu">
                                                    <li class="single-block">
                                                        <ul style="display: inline-block">
                                                            <table>
                                                                <tr>
                                                                    {% for book in fantasy_bookss %}
                                                                        <td>
                                                                            {% load rating_stars %}
    
                                                                            <div class="book-item">
                                                                                <a href="{% url 'detail' book.id %}">
                                                                                    <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 100px; height: 150px">
                                                                                </a> 
                                                                                <span class="star-rating">{% render_stars book.rating %}</span>
                                                                                <div class="price-block">
                                                                                    <span class="price">£{{ book.price }}</span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                            </tr><tr>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </tr>
                                                            </table>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li class="cat-item has-children mega-menu"><a href="#">Fiction</a>
                                                <ul class="sub-menu">
                                                    <li class="single-block">
                                                        <ul style="display: inline-block">
                                                            <table>
                                                                <tr>
                                                                    {% for book in fiction_bookss %}
                                                                        <td>
                                                                            {% load rating_stars %}
    
                                                                            <div class="book-item">
                                                                                <a href="{% url 'detail' book.id %}">
                                                                                    <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 100px; height: 150px">
                                                                                </a> 
                                                                                <span class="star-rating">{% render_stars book.rating %}</span>
                                                                                <div class="price-block">
                                                                                    <span class="price">£{{ book.price }}</span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                            </tr><tr>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </tr>
                                                            </table>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li class="cat-item has-children mega-menu"><a href="#">History</a>
                                                <ul class="sub-menu">
                                                    <li class="single-block">
                                                        <ul style="display: inline-block">
                                                            <table>
                                                                <tr>
                                                                    {% for book in history_bookss %}
                                                                        <td>
                                                                            {% load rating_stars %}
    
                                                                            <div class="book-item">
                                                                                <a href="{% url 'detail' book.id %}">
                                                                                    <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 100px; height: 150px">
                                                                                </a> 
                                                                                <span class="star-rating">{% render_stars book.rating %}</span>
                                                                                <div class="price-block">
                                                                                    <span class="price">£{{ book.price }}</span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                            </tr><tr>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </tr>
                                                            </table>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                            <!-- <li class="cat-item"><a href="#">Perfomance Filters</a></li> -->
                                            <li class="cat-item has-children mega-menu"><a href="#">Horror</a>
                                                <ul class="sub-menu">
                                                    <li class="single-block">
                                                        <ul style="display: inline-block">
                                                            <table>
                                                                <tr>
                                                                    {% for book in horror_bookss %}
                                                                        <td>
                                                                            {% load rating_stars %}
    
                                                                            <div class="book-item">
                                                                                <a href="{% url 'detail' book.id %}">
                                                                                    <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 100px; height: 150px">
                                                                                </a> 
                                                                                <span class="star-rating">{% render_stars book.rating %}</span>
                                                                                <div class="price-block">
                                                                                    <span class="price">£{{ book.price }}</span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                            </tr><tr>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </tr>
                                                            </table>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li class="cat-item has-children mega-menu"><a href="#">Magic</a>
                                                <ul class="sub-menu">
                                                    <li class="single-block">
                                                        <ul style="display: inline-block">
                                                            <table>
                                                                <tr>
                                                                    {% for book in magic_bookss %}
                                                                        <td>
                                                                            {% load rating_stars %}
    
                                                                            <div class="book-item">
                                                                                <a href="{% url 'detail' book.id %}">
                                                                                    <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 100px; height: 150px">
                                                                                </a> 
                                                                                <span class="star-rating">{% render_stars book.rating %}</span>
                                                                            </div>
                                                                        </td>
                                                                        {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                            </tr><tr>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </tr>
                                                            </table>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li class="cat-item has-children mega-menu"><a href="#">Non-fiction</a>
                                                <ul class="sub-menu">
                                                    <li class="single-block">
                                                        <ul style="display: inline-block">
                                                            <table>
                                                                <tr>
                                                                    {% for book in non_fiction_bookss %}
                                                                        <td>
                                                                            {% load rating_stars %}
    
                                                                            <div class="book-item">
                                                                                <a href="{% url 'detail' book.id %}">
                                                                                    <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 100px; height: 150px">
                                                                                </a> 
                                                                                <span class="star-rating">{% render_stars book.rating %}</span>
                                                                                <div class="price-block">
                                                                                    <span class="price">£{{ book.price }}</span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                            </tr><tr>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </tr>
                                                            </table>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li class="cat-item has-children mega-menu"><a href="#">Romance</a>
                                                <ul class="sub-menu">
                                                    <li class="single-block">
                                                        <ul style="display: inline-block">
                                                            <table>
                                                                <tr>
                                                                    {% for book in romance_bookss %}
                                                                        <td>
                                                                            {% load rating_stars %}
    
                                                                            <div class="book-item">
                                                                                <a href="{% url 'detail' book.id %}">
                                                                                    <img src="{{ book.image_url }}" alt="{{ book.title }}" style="width: 100px; height: 150px">
                                                                                </a> 
                                                                                <span class="star-rating">{% render_stars book.rating %}</span>
                                                                                <div class="price-block">
                                                                                    <span class="price">£{{ book.price }}</span>
                                                                                    <div class="price-block">
                                                                                        <span class="price">£{{ book.price }}</span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            
                                                                        </td>
                                                                        {% if forloop.counter|divisibleby:5 and not forloop.last %}
                                                                            </tr><tr>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                </tr>
                                                            </table>
                                                        </ul>
                                                    </li>
                                                </ul> 
                                            </li>
                                            <!--
                                            <li class="cat-item "><a href="#">Accessories</a></li>
                                            <li class="cat-item "><a href="#">Education</a></li> -->
                                            <li class="cat-item hidden-menu-item"><a href="#">Novels</a></li>
                                            <li class="cat-item"><a href="#" class="js-expand-hidden-menu">More
                                                    Categories</a></li>
                                        </ul>
                                </div>
                            </nav>
                        </div>
                        <div class="col-md-3 col-5  order-md-3 text-right">
                            <div class="mobile-header-btns header-top-widget">
                                <ul class="header-links">
                                    <li class="sin-link">
                                        <a href="{% url 'basket:basket_summary' %}" class="cart-link link-icon"><i class="ion-bag"></i></a>
                                    </li>
                                    <li class="sin-link">
                                        <a href="javascript:" class="link-icon hamburgur-icon off-canvas-btn"><i
                                                class="ion-navicon"></i></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <!--Off Canvas Navigation Start-->
            <aside class="off-canvas-wrapper">
                <div class="btn-close-off-canvas">
                    <i class="ion-android-close"></i>
                </div>
                <div class="off-canvas-inner">
                    <!-- search box start -->
                    <div class="search-box offcanvas">
                        <form class="search" action="{% url 'search_results' %}" method="get">
                                
                            <input name="q" type="text" class="search-input" autocomplete="off" placeholder="Search entire store here">
                            <button type="submit" class="search-button"><i class="fas fa-search"></i></button>
                        </form> 
                    </div>
                    <!-- search box end -->
                    <!-- mobile menu start -->
                    <div class="mobile-navigation">
                        <!-- mobile menu navigation start -->
                        <nav class="off-canvas-nav">
                            <ul class="mobile-menu main-mobile-menu">
                                <li class="menu-item-has-children">
                                    <a href="{% url 'home' %}">Home</a>
                                    
                                </li>
                                <li class="menu-item-has-children">
                                    <a href="#">Blog</a>
                                    <ul class="sub-menu">
                                        <li class="menu-item-has-children">
                                            <a href="#">Blog Grid</a>
                                            <ul class="sub-menu">
                                                <li><a href="blog.html">Full Widh (Default)</a></li>
                                                <li><a href="blog-left-sidebar.html">left Sidebar</a></li>
                                                <li><a href="blog-right-sidebar.html">Right Sidebar</a></li>
                                            </ul>
                                        </li>
                                        <li class="menu-item-has-children">
                                            <a href="#">Blog List</a>
                                            <ul class="sub-menu">
                                                <li><a href="blog-list.html">Full Widh (Default)</a></li>
                                                <li><a href="blog-list-left-sidebar.html">left Sidebar</a></li>
                                                <li><a href="blog-list-right-sidebar.html">Right Sidebar</a></li>
                                            </ul>
                                        </li>
                                        <li class="menu-item-has-children">
                                            <a href="#">Blog Details</a>
                                            <ul class="sub-menu">
                                                <li><a href="blog-details.html">Image Format (Default)</a></li>
                                                <li><a href="blog-details-gallery.html">Gallery Format</a></li>
                                                <li><a href="blog-details-audio.html">Audio Format</a></li>
                                                <li><a href="blog-details-video.html">Video Format</a></li>
                                                <li><a href="blog-details-left-sidebar.html">left Sidebar</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li class="menu-item-has-children">
                                    <a href="#">Shop</a>
                                    <ul class="sub-menu">
                                        <li class="menu-item-has-children">
                                            <a href="#">Shop Grid</a>
                                            <ul class="sub-menu">
                                                <li><a href="shop-grid.html">Fullwidth</a></li>
                                                <li><a href="shop-grid-left-sidebar.html">left Sidebar</a></li>
                                                <li><a href="shop-grid-right-sidebar.html">Right Sidebar</a></li>
                                            </ul>
                                        </li>
                                        <li class="menu-item-has-children">
                                            <a href="#">Shop List</a>
                                            <ul class="sub-menu">
                                                <li><a href="shop-list.html">Fullwidth</a></li>
                                                <li><a href="shop-list-left-sidebar.html">left Sidebar</a></li>
                                                <li><a href="shop-list-right-sidebar.html">Right Sidebar</a></li>
                                            </ul>
                                        </li>
                                        <li class="menu-item-has-children">
                                            <a href="#">Product Details 1</a>
                                            <ul class="sub-menu">
                                                <li><a href="{% url 'product-details' %}">Product Details Page</a></li>
                                                <li><a href="{% url 'product-details' %}">Product Details
                                                        Affiliate</a></li>
                                                <li><a href="product-details-group.html">Product Details Group</a></li>
                                                <li><a href="product-details-variable.html">Product Details
                                                        Variables</a></li>
                                            </ul>
                                        </li>
                                        <li class="menu-item-has-children">
                                            <a href="#">Product Details 2</a>
                                            <ul class="sub-menu">
                                                <li><a href="product-details-left-thumbnail.html">left Thumbnail</a>
                                                </li>
                                                <li><a href="product-details-right-thumbnail.html">Right Thumbnail</a>
                                                </li>
                                                <li><a href="product-details-left-gallery.html">Left Gallery</a></li>
                                                <li><a href="product-details-right-gallery.html">Right Gallery</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li class="menu-item-has-children">
                                    <a href="#">Pages</a>
                                    <ul class="sub-menu">
                                        <li><a href="{% url 'basket:basket_summary' %}">Cart</a></li>
                                        <li><a href="{% url 'basket:basket_checkout2' %}">Checkout</a></li>
                                        <li><a href="{% url 'wishlist' %}">Wishlist</a></li>
                                        <li><a href="{% url 'change_password' %}">My Account</a></li>
                                        <li><a href="{% url 'basket:basket_orders' %}">Order Complete</a></li>
                                        <li><a href="faq.html">Faq</a></li>
                                    </ul>
                                </li>
                                <li><a href="https://forms.gle/TQTMvHv9UZfgNjwa9">Contact</a></li>
                            </ul>
                        </nav>
                        <!-- mobile menu navigation end -->
                    </div>
                    <!-- mobile menu end -->
                    <nav class="off-canvas-nav">
                        <ul class="mobile-menu menu-block-2">
                            <li class="menu-item-has-children">
                                <a href="#">Currency - USD $ <i class="fas fa-angle-down"></i></a>
                                <ul class="sub-menu">
                                    <li> <a href="{% url 'basket:basket_summary' %}">USD $</a></li>
                                    <li> <a href=>EUR €</a></li>
                                </ul>
                            </li>
                            <li class="menu-item-has-children">
                                <a href="#">Lang - Eng<i class="fas fa-angle-down"></i></a>
                                <ul class="sub-menu">
                                    <li>Eng</li>
                                    <li>Ban</li>
                                </ul>
                            </li>
                            <li class="menu-item-has-children">
                                <a href="#">My Account <i class="fas fa-angle-down"></i></a>
                                <ul class="sub-menu">
                                    <li><a href="#">My Account</a></li>
                                    <li><a href="#">Order History</a></li>
                                    <li><a href="#">Transactions</a></li>
                                    <li><a href="#">Downloads</a></li>
                                </ul>
                            </li>
                        </ul>
                    </nav>
                    <div class="off-canvas-bottom">
                        <div class="contact-list mb--10">
                            <a href="#" class="sin-contact"><i class="fas fa-mobile-alt"></i>0327728199</a>
                            <a href="#" class="sin-contact"><i class="fas fa-envelope"></i>td.tan7211@gmail.com</a>
                        </div>
                        <div class="off-canvas-social">
                            <a href="#" class="single-icon"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="single-icon"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="single-icon"><i class="fas fa-rss"></i></a>
                            <a href="#" class="single-icon"><i class="fab fa-youtube"></i></a>
                            <a href="#" class="single-icon"><i class="fab fa-google-plus-g"></i></a>
                            <a href="#" class="single-icon"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                </div>
            </aside>
            <!--Off Canvas Navigation End-->
        </div>
        <div class="sticky-init fixed-header common-sticky">
            <div class="container d-none d-lg-block">
                <div class="row align-items-center">
                    <div class="col-lg-4">
                        <a href="{% url 'home' %}" class="site-brand">
                            <img src="{% static 'website/image/logo1.png' %}" alt="" style ="width: 120px">
                        </a>
                    </div>
                    <div class="col-lg-8">
                        <div class="main-navigation flex-lg-right">
                            <ul class="main-menu menu-right ">
                                <li class="menu-item has-children">
                                    <a  href="{% url 'home' %}">Home 
                                    </a>
                                </li>
                                <!-- Shop -->
                                <li class="menu-item has-children mega-menu">
                                    <a href="{% url 'shop-list' %}">SHOP</a>
                                </li>
                                <!-- Pages -->
                                <li class="menu-item has-children">
                                    <a href="javascript:void(0)">Pages <i
                                            class="fas fa-chevron-down dropdown-arrow"></i></a>
                                    <ul class="sub-menu">
                                        <li><a href="{% url 'basket:basket_summary' %}">Cart</a></li>
                                        <li><a href="checkout.html">Checkout</a></li>
                                        <li><a href="{% url 'wishlist' %}">Wishlist</a></li>
                                        
                                        <li><a href="my-account.html">My Account</a></li>
                                        <li><a href="order-complete.html">Order Complete</a></li>
                                        <li><a href="faq.html">Faq</a></li>
                                    </ul>
                                </li>
                                <!-- Blog -->
                                <li class="menu-item has-children mega-menu">
                                    <a href="{% url 'blog' %}">Blog</a>
                                </li>
                                <li class="menu-item">
                                    <a href="{% url 'contact:index' %}">Contact</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--=================================
        Hero Area
        ===================================== -->

        {% block content %}
        <!-- Page specific content will go here -->
        
        {% endblock content %}  

        

    <footer class="site-footer">
        <div class="container">
            <div class="row justify-content-between  section-padding">
                <div class=" col-xl-3 col-lg-4 col-sm-6">
                    <div class="single-footer pb--40">
                        <div class="brand-footer footer-title" href="{% url 'home' %}">
                            <img src="{% static 'website/image/logo1.png' %}" alt="" style ="width: 200px">
                        </div>
                        <div class="footer-contact">
                            <p><span class="label">Address:</span><span class="text">UET 301-G2</span></p>
                            <p><span class="label">Phone:</span><span class="text">0327728199</span></p>
                            <p><span class="label">Email:</span><span class="text">td.tan2711@gmail.comm</span></p>
                        </div>
                    </div>
                </div>
                <div class=" col-xl-3 col-lg-2 col-sm-6">
                    <div class="single-footer pb--40">
                        <div class="footer-title">
                            <h3>Information</h3>
                        </div>
                        <ul class="footer-list normal-list">
                            <li><a href="#">Prices drop</a></li>
                            <li><a href="#">New products</a></li>
                            <li><a href="#">Best sales</a></li>
                            <li><a href="{url 'contact:index'}">Contact us</a></li>
                            <li><a href="#">Sitemap</a></li>
                        </ul>
                    </div>
                </div>
                <div class=" col-xl-3 col-lg-2 col-sm-6">
                    <div class="single-footer pb--40">
                        <div class="footer-title">
                            <h3>Extras</h3>
                        </div>
                        <ul class="footer-list normal-list">
                            <li><a href="#">Delivery</a></li>
                            <li><a href="#">About Us</a></li>
                            <li><a href="{% url 'list' %}">Stores</a></li>
                            <li><a href="https://forms.gle/TQTMvHv9UZfgNjwa9">Contact us</a></li>
                            <li><a href="#">Sitemap</a></li>
                        </ul>
                    </div>
                </div>
                <div class=" col-xl-3 col-lg-4 col-sm-6">
                    <div class="footer-title">
                        <h3>Newsletter Subscribe</h3>
                    </div>
                    <div class="newsletter-form mb--30">
                        <form action="https://htmldemo.net/pustok/pustok/php/mail.php">
                            <input type="email" class="form-control" placeholder="Enter Your Email Address Here...">
                            <button class="btn btn--primary w-100">Subscribe</button>
                        </form>
                    </div>
                    <div class="social-block">
                        <h3 class="title">STAY CONNECTED</h3>
                        <ul class="social-list list-inline">
                            <li class="single-social facebook"><a href="#"><i class="ion ion-social-facebook"></i></a>
                            </li>
                            <li class="single-social twitter"><a href="#"><i class="ion ion-social-twitter"></i></a></li>
                            <li class="single-social google"><a href="#"><i
                                        class="ion ion-social-googleplus-outline"></i></a></li>
                            <li class="single-social youtube"><a href="#"><i class="ion ion-social-youtube"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <p class="copyright-heading">Được thành lập và phát triển bởi Online Bookstore</p>
                <a href="#" class="payment-block">
                    <img src="{% static 'website/image/icon/payment.png' %}" alt="">
                </a>
                <p class="copyright-text">Copyright © 2024 <a href="{% url 'home' %}" class="author">Online Bookstore</a>. All Right Reserved.
                    <br>
                    Design By Online Bookstore</p>
            </div>
        </div>
    </footer>
    <!-- Use Minified Plugins Version For Fast Page Load -->


</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
        crossorigin="anonymous"></script>
        <script>
            function startDictation() {
                if (window.hasOwnProperty('webkitSpeechRecognition')) {
                    var recognition = new webkitSpeechRecognition();
                    recognition.continuous = false; 
                    recognition.interimResults = false; 
                    recognition.lang = "en-US";
            
                    recognition.start(); 
            
                    recognition.onresult = function(event) {
                        document.querySelector('.search-input').value = event.results[0][0].transcript;  result
                        recognition.stop();
                        document.querySelector('.search').submit(); 
                    };
            
                    recognition.onerror = function(event) {
                        recognition.stop(); 
                    }
                }
            }
        </script>
        <script type="text/javascript">
            (function(d, m){
                var kommunicateSettings = 
                    {"appId":"10a83d12c0fbcc0a0dc0680318db5d505",
                    "popupWidget":true,"automaticChatOpenOnNavigation":true, 
                    "restartConversationByUser":true, 
                    primaryCTA: 'RESTART_CONVERSATION'
                    };
                kommunicateSettings.onInit = function() {
                var css = ""; // Replace <YOUR_CSS_CODE_HERE> with the CSS you want to override.
                Kommunicate.customizeWidgetCss(css); // use window.Kommunicate for ReactJs
                };
                var s = document.createElement("script"); s.type = "text/javascript"; s.async = true;
                s.src = "https://widget.kommunicate.io/v2/kommunicate.app";
                var h = document.getElementsByTagName("head")[0]; h.appendChild(s);
                window.kommunicate = m; m._globals = kommunicateSettings;
            })(document, window.kommunicate || {});
        /* NOTE : Use web server to view HTML files as real-time update will not work if you directly open the HTML file in the browser. */
        </script>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const searchInput = document.querySelector('.search-input');
                const searchButton = document.querySelector('.search-button');
                const recentSearchesDiv = document.getElementById('recent-searches');
                let isDropdownActive = false;

                searchButton.addEventListener('click', function() {
                    const currentSearch = searchInput.value.trim();
                    if (currentSearch) {
                        let searches = localStorage.getItem('recentSearches');
                        searches = searches ? JSON.parse(searches) : [];
                        if (!searches.includes(currentSearch)) {
                            searches.unshift(currentSearch);
                            searches = searches.slice(0, 6); // Limit to 6 items
                            localStorage.setItem('recentSearches', JSON.stringify(searches));
                        }
                    }
                });

                searchInput.addEventListener('focus', function() {
                    let searches = localStorage.getItem('recentSearches');
                    if (searches) {
                        searches = JSON.parse(searches);
                        recentSearchesDiv.innerHTML = searches.map(search => 
                            `<div class="recent-search-item" onclick="selectSearch('${search}')" style="padding: 10px;">
                                <img src="{% static 'website/images/time-left.png' %}" alt="Clock Icon" style="width: 16px; height: 16px; vertical-align: middle; margin-right: 5px;">
                                ${search}
                                <i class="fas fa-times" style="margin-top: 5px; float:right; cursor: pointer;" onclick="deleteSearch(event, '${search}')"></i>
                            </div>`).join('');
                        recentSearchesDiv.style.display = 'block';
                        isDropdownActive = true;
                    }
                });

                searchInput.addEventListener('blur', function() {
                    if (!isDropdownActive) {
                        setTimeout(() => {
                            recentSearchesDiv.style.display = 'none';
                        }, 300);
                    }
                });

                recentSearchesDiv.addEventListener('mouseenter', function() {
                    isDropdownActive = true;
                });

                recentSearchesDiv.addEventListener('mouseleave', function() {
                    isDropdownActive = false;
                    recentSearchesDiv.style.display = 'none';
                });

                window.selectSearch = function(search) {
                    searchInput.value = search;
                    recentSearchesDiv.style.display = 'none';
                    isDropdownActive = false;
                    searchButton.click();
                }

                window.deleteSearch = function(event, search) {
                    event.stopPropagation(); // Prevents triggering the selectSearch function

                    let searches = localStorage.getItem('recentSearches');
                    searches = searches ? JSON.parse(searches) : [];
                    const index = searches.indexOf(search);
                    if (index > -1) {
                        searches.splice(index, 1);
                    }
                    localStorage.setItem('recentSearches', JSON.stringify(searches));
                    displayRecentSearches();
                }

                function displayRecentSearches() {
                    let searches = localStorage.getItem('recentSearches');
                    if (searches && searches.length > 0) {
                        searches = JSON.parse(searches);
                        recentSearchesDiv.innerHTML = searches.map(search => 
                            `<div class="recent-search-item" onclick="selectSearch('${search}')" style="padding: 10px;">
                                <img src="{% static 'website/images/time-left.png' %}" alt="Clock Icon" style="width: 16px; height: 16px; vertical-align: middle; margin-right: 5px;">
                                ${search}
                                <i class="fas fa-times" style=" float:right; cursor: pointer;" onclick="deleteSearch(event, '${search}')"></i>
                            </div>`).join('');
                        recentSearchesDiv.style.display = 'block';
                    } else {
                        recentSearchesDiv.style.display = 'none';
                    }
                }
            });

        </script>
        <script type="text/javascript">
            function googleTranslateElementInit() {
                    new google.translate.TranslateElement({
                        pageLanguage: 'en', // Ngôn ngữ của trang web
                        includedLanguages: 'en,vi,zh-CN', // Các ngôn ngữ bạn muốn hiển thị
                        layout: google.translate.TranslateElement.InlineLayout.SIMPLE // Bố cục của tiện ích
                    }, 'google_translate_element');
                }
            window.onload = function() {
                var clearDotImage = document.querySelector('img[src="https://www.google.com/images/cleardot.gif"]');
                if (clearDotImage !== null) {
                    clearDotImage.remove();
                }
            };
        </script>
            
        <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>                   
</html>