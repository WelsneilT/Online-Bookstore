
{% extends 'base2.html' %}

{% load static %}
{% block content %}
<div class="container">
  <div class="card mb-3" style="max-width: 820px;">
    <div class="row no-gutters">
      <div class="col-md-4">
        <img src="{{ object.image_url }}" class="card-img">
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <h4 class="card-title" >{{ object.title }}</h4>
          <p class="card-text">Author: {{ object.author }}</p><hr>
          {% load rating_stars %}
          <p class="card-text">Rating Star: {{ object.rating|floatformat:2 }} <span class="star-rating">{% render_stars object.rating %}</span> </p>
          <p class="card-text">Publisher: {{ object.publisher}}</p>
          <p class="card-text">Price: $ {{ object.price|floatformat:2 }}</p>
          <p class="card-text">{{ object.description }}</p>
          
        </div>
        <div class="card-footer">
          <div class ="row">
            <div class="col-md-6">
              
              <form id="add-to-basket-form" method="post" action="{% url 'basket:basket_add' %}" style="display: inline-block">
                {% csrf_token %}
                <input type="hidden" name="productid" value="{{ object.id }}">
                <select name="productqty" >
                    <!-- Options for product quantity -->
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                </select>
                <button type="submit" id="add-to-basket-btn" class="btn btn-secondary btn-sm" role="button" style="width:200px; display: flex; align-items: center; justify-content: center;">
                  Add to basket
                  <img src="{% static 'website/images/shopping-cart.png' %}" alt="Cart" style="width: 20px; height: 20px; margin-left: 10px;">
                </button>
                
                <div id="message-container">
                  {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                    {% endfor %}
                  {% endif %}
                </div>
            </form>
            </div>
            <div class="col-md-6">
              <div class="hehe" style="padding-top:24px; width: 180px; padding-left: 30px">
                {% if object.book_available is True %}
                <a href="{% url 'checkout' object.pk %}" class="btn btn-outline-success" role="button" style="width:200px; display: flex; align-items: center; justify-content: center;">
                  Buy Now 
                  <img src="{% static 'website/images/checklist.png' %}" alt="Cart" style="width: 20px; height: 20px; margin-left: 10px;">
                </a>
                {% else %}
                <h4 class="text-danger">Out of Stock!</h4>
                {% endif %}
            </div>
            
            </div>
            </div>
          </div>
        </div>
    </div>
  </div>
</div>



{% endblock content %}

